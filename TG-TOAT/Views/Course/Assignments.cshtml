@model CourseHome

@{
    ViewData["Title"] = "Home";

    if (Model.UserRole == "Student")
    {
        Layout = "~/Views/Shared/_StudentCourse.cshtml";
    }
    else if (Model.UserRole == "Instructor")
    {
        Layout = "~/Views/Shared/_InstructorCourse.cshtml";
    }
    else
    {
    }

}



<h1 class="h1-course">@Model.Department @Model.CourseNum, @Model.UserRole</h1>
<hr />
<div class="course-row">
    <div class="course-nav">
        <a class="nav-link" asp-area="" asp-controller="Course" asp-action="Index" asp-route-id="@Model.CourseId">
            Home
        </a>
        <a class="nav-link" asp-area="" asp-controller="Course" asp-action="Announcements" asp-route-id="@Model.CourseId">
            Announcements
        </a>
        <a class="nav-link course-curr" asp-area="" asp-controller="Course" asp-action="Assignments" asp-route-id="@Model.CourseId">
            Assignments
        </a>
        <a class="nav-link" asp-area="" asp-controller="Course" asp-action="Grades" asp-route-id="@Model.CourseId">
            Grades
        </a>
    </div>
    <div class="row">
        @{

            if (Model.UserRole == "Student")
            {
                @foreach (var assignment in Model.Assignments)
                {
                    <div class="row" style="align-items: center;">
                        <!-- Assignment details -->
                        <div class="col-md-6 text-left">
                            @assignment.AssignName @assignment.DueDate.ToString("MM/dd/yyyy hh:mm tt")
                        </div>

                        <!-- Submit -->
                        <div class="col-md-6 text-right">
                            <div class="col-md-6 text-right">
                                <a class="btn btn-primary" asp-area="" asp-controller="Course" asp-action="SubmitAssignment" asp-route-assignmentId="@assignment.AssignId">
                                    Submit
                                </a>
                            </div>

                        </div>

                    </div>
                }
                @foreach (var quiz in Model.Quizzes)
                {
                    <div class="row" style="align-items: center;">
                        <!-- Assignment details -->
                        <div class="col-md-6 text-left">
                            @quiz.QuizName @quiz.DueDate.ToString("MM/dd/yyyy hh:mm tt")
                        </div>

                        <!-- Submit -->
                        <div class="col-md-6 text-right">
                            <div class="col-md-6 text-right">
                                <a class="btn btn-primary" asp-area="" asp-controller="Course" asp-action="Quiz" asp-route-id="@quiz.QuizId">
                                    Take
                                </a>
                            </div>

                        </div>

                    </div>
                }
            }
            else if (Model.UserRole == "Instructor")
            {
                <div class="container">

                    <a class="btn btn-primary" asp-area="" asp-controller="Course" asp-route-id="@Model.CourseId" asp-action="AddAssignment">Add Assignment</a>
                    <a class="btn btn-primary" asp-area="" asp-controller="Course" asp-route-id="@Model.CourseId" asp-action="AddQuiz">Add Quiz</a>
                </div>

                @foreach (var assignment in Model.Assignments)
                {
                    <div class="row" style="align-items: center;">
                        <div class="col-md-6 text-left">
                            <strong>@assignment.AssignName</strong> - Due: @assignment.DueDate.ToString("MM/dd/yyyy hh:mm tt")
                        </div>
                        <div class="col-md-6 text-right">
                            <a class="btn btn-primary" asp-area="" asp-controller="Course" asp-action="ViewSubmissions" asp-route-assignmentId="@assignment.AssignId">
                                View Submissions
                            </a>
                        </div>
                    </div>
                }
                @foreach (var quiz in Model.Quizzes)
                {
                    <div class="row" style="align-items: center;">
                        <div class="col-md-6 text-left">
                            <strong>@quiz.QuizName</strong> - Due: @quiz.DueDate.ToString("MM/dd/yyyy hh:mm tt")
                        </div>
                        <div class="col-md-6 text-right">
                            <a class="btn btn-primary" asp-area="" asp-controller="Course" asp-action="ViewSubmissions" asp-route-quizId="@quiz.QuizId">
                                View Submissions
                            </a>
                        </div>
                    </div>
                }
            }

        }
    </div>

</div>



@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
